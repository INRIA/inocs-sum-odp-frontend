import{j as e,I as s}from"./input.DqrYI6UV.js";import{r as t}from"./index.BS6YjEWN.js";import{R as g}from"./RButton.DuQRYX2b.js";import{g as b}from"./links.BishvqZb.js";import{M as C}from"./MapViewer.BCOm8bak.js";import"./Constants.6MVGEbWE.js";function z(){const[i,m]=t.useState(""),[l,c]=t.useState(""),[r,d]=t.useState(""),[n,u]=t.useState(""),[v,p]=t.useState(""),[j,x]=t.useState(""),[h,f]=t.useState(null),[o,y]=t.useState([50,10]),[N,k]=t.useState(4),L=o?`${o[0]},${o[1]}`:"no-center";function S(a){a.preventDefault(),window.location.href=b("/lab")}return t.useEffect(()=>{l&&r&&(f({id:"lab-marker",name:i,coordinates:{lat:parseFloat(l),lng:parseFloat(r)},radius:n?parseFloat(n)*1e3:void 0}),y([parseFloat(l),parseFloat(r)]),k(8))},[l,r,n]),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Living Lab or city Name"}),e.jsx(s,{value:i,onChange:a=>m(a.target.value),placeholder:"e.g. Geneva Living Lab",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Latitude"}),e.jsx(s,{type:"number",step:"any",value:l,onChange:a=>c(a.target.value),placeholder:"50.05"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Longitude"}),e.jsx(s,{type:"number",step:"any",value:r,onChange:a=>d(a.target.value),placeholder:"19.94"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Activity radius (km)"}),e.jsx(s,{type:"number",value:n,onChange:a=>u(a.target.value),placeholder:"100"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Area"}),e.jsx(s,{value:v,onChange:a=>p(a.target.value),placeholder:"e.g. 120 kmÂ²"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Population"}),e.jsx(s,{type:"number",value:j,onChange:a=>x(a.target.value),placeholder:"e.g. 500000"})]})]}),e.jsx("div",{className:"h-[400px] rounded shadow ",children:e.jsx(C,{markers:h?[h]:[],center:o,zoom:N??8,className:"h-full w-full z-0"},L)}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(g,{type:"submit",variant:"primary",text:"Save Living Lab",href:b("/lab")}),e.jsx(g,{type:"button",variant:"secondary",text:"Cancel",onClick:()=>{m(""),c(""),d(""),u(""),p(""),x("")}})]})]})}export{z as default};
